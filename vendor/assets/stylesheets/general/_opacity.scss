@if index($components, opacity) {
  $opacity-breakpoints: true !default;

  $opacities: (
    0: 0,
    10: 0.1,
    20: 0.2,
    30: 0.3,
    40: 0.4,
    50: 0.5,
    60: 0.6,
    70: 0.7,
    80: 0.8,
    90: 0.9,
    100: 1
  ) !default;

  @each $opacity, $value in $opacities {
    .opacity-#{$opacity} {
      opacity: $value !important;
    }
  }

  @if $opacity-breakpoints {
    @each $breakpoint, $breakpoint-value in $container-max-widths {
      @include media-breakpoint-up($breakpoint) {
        @each $opacity, $value in $opacities {
          .opacity-#{$breakpoint}-#{$opacity} {
            opacity: $value !important;
          }
        }
      }
    }
  }
}
